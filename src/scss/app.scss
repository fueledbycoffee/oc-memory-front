/* Variables de base */
@import 'base/vars';

/* Remise à 0 du CSS pour être avoir le plus de chance possible d'avoir le même rendu sur tous les navigateurs */
@import 'base/reset';

/* Polices */
@import 'base/fonts';

/* Mixins et autres fonctions d'aide */
@import 'base/mixins';

/* Vendor */

/* Hacks "pas très très propre" pour les navigateurs tel que IE */
@import 'dirty/fie';

/* Base HTML */ 
body {
  font-family: $main-font;
  color: $foreground-color;
  background-image: linear-gradient(to right,$accent-color, $secondary-color);
}

h1 {
  font-size: 4em;
  font-weight: bold;
}
h2 {
  font-size: 2em;
  font-weight: bold;
}

footer {
  text-align: center;
  margin: spacing(5);
}

/* Le style des input et des boutons */
.base-input {
  font-family: $main-font;
  font-size: 20px;
  padding: 20px 10px;
  border: none;
  text-align: center;
  border-radius: $border-radius;
  margin: spacing(1);
}

.btn {
  margin: spacing(1);
  font-family: $main-font;
  font-weight: bold;
  font-size: 20px;
  border: none;
  padding: 20px 10px;
  border-radius: $border-radius;
  background: linear-gradient(to left, $accent-color, $secondary-color);
  box-shadow: $base-shadow;
}


/* L'app bar */
.app-bar {
  height: 80px;
  background-color: $accent-color;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: $base-shadow;
}

/* L'espace de jeu */
.container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 120px;
}

.game-box {
  position: relative;
  overflow: hidden;
  background-color: $white_opacity50;
  border-radius: $border-radius;
  box-shadow: $base-shadow;
}

/* La progresse bar */
.game-progress-holder {
  position: relative;
  height: 50px;
  background-color: $accent-color;
  display: flex;
  align-items: center;
  justify-content: center;
}

.game-progress-bar {
  z-index: 1;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  height: 50px;
  background-color: $secondary-color;
}
.game-countdown {
  font-size: 20px;
  z-index:100;
}

/* Le jeu en lui même */
.game-holder {
  width: 720px;
  display: flex;
  flex-wrap: wrap;
  justify-self:center;
}

/* Une carte de jeu*/
.game-card {
  margin: spacing(1); /* On utilise notre fonction spacing pour conserver */
  background-color: transparent;
  width: 100px;
  height: 100px;
  perspective: 1000px; /* Permet l'effet 3D */
}

/* Le contenur qui est utilisé pour positionnée le devant et l'arrière de la carte */
.game-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.8s;
  transform-style: preserve-3d;
}

/* Utilisé pour retourner les cartes */
.card-flipped .game-card-inner {
  transform: rotateY(180deg);
}

.card-perma-flipped .game-card-inner {
  transform: rotateY(180deg);
}

/* Positonnement du devant et l'arrière*/
.game-card-front, .game-card-back {
  border-radius: $border-radius;
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden; /* Safari */
  backface-visibility: hidden;
}

/* Style de l'avant de la carte */
.game-card-front {
  background-image: url('../images/content/back.png');
}

/* Dos de la carte */
.game-card-back {
  transform: rotateY(180deg);
}
/* On génère toutes les cartes en décalant la position du fond */
@for $i from 1 through 18 {
  .game-card-back-#{$i} {
      background-image: url('../images/content/cards.png');
      background-position-y: 100px*$i;
  }
}

/* Le menu */
.game-menu {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(to bottom, #00000060, #00000030);
  border-radius: $border-radius;
}
/* Les messages de victoire et défaite */
.game-status {
  font-size: 23px;
  margin: spacing(2);
}

/* Le tableau des highscores */
.game-highscores {
  background-color: #00000060;
  border-radius: $border-radius;
  padding: spacing(2);
} 

/* Classe générique utilisé pour masqué un élément */
.hidden {
  display: none;
}
